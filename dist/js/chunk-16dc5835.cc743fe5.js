(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16dc5835"],{"1dde":function(t,a,c){var s=c("d039"),i=c("b622"),e=c("2d00"),r=i("species");t.exports=function(t){return e>=51||!s((function(){var a=[],c=a.constructor={};return c[r]=function(){return{foo:1}},1!==a[t](Boolean).foo}))}},8418:function(t,a,c){"use strict";var s=c("c04e"),i=c("9bf2"),e=c("5c6c");t.exports=function(t,a,c){var r=s(a);r in t?i.f(t,r,e(0,c)):t[r]=c}},"99af":function(t,a,c){"use strict";var s=c("23e7"),i=c("d039"),e=c("e8b5"),r=c("861d"),n=c("7b0b"),o=c("50c4"),l=c("8418"),d=c("65f0"),u=c("1dde"),f=c("b622"),p=c("2d00"),h=f("isConcatSpreadable"),v=9007199254740991,b="Maximum allowed index exceeded",C=p>=51||!i((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),m=u("concat"),g=function(t){if(!r(t))return!1;var a=t[h];return void 0!==a?!!a:e(t)},x=!C||!m;s({target:"Array",proto:!0,forced:x},{concat:function(t){var a,c,s,i,e,r=n(this),u=d(r,0),f=0;for(a=-1,s=arguments.length;a<s;a++)if(e=-1===a?r:arguments[a],g(e)){if(i=o(e.length),f+i>v)throw TypeError(b);for(c=0;c<i;c++,f++)c in e&&l(u,f,e[c])}else{if(f>=v)throw TypeError(b);l(u,f++,e)}return u.length=f,u}})},a53a:function(t,a,c){"use strict";var s=c("aec5"),i=c.n(s);i.a},aec5:function(t,a,c){},fc59:function(t,a,c){"use strict";c.r(a);var s=function(){var t=this,a=t.$createElement,c=t._self._c||a;return c("div",[c("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),c("nav",{attrs:{"aria-label":"breadcrumb"}},[c("ol",{staticClass:"breadcrumb"},[c("li",{staticClass:"breadcrumb-item"},[c("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.$router.push("/shop/home")}}},[t._v("首頁")])]),c("li",{staticClass:"breadcrumb-item active"},[t._v(" 購物車 ")])])]),c("div",{staticClass:"row d-flex justify-content-center bg-light"},[c("div",{staticClass:"col-lg-6 col-md-8 cart-list py-3"},[0===t.cart.length?c("div",{staticClass:"card p-2"},[t._m(0)]):t._l(t.cart,(function(a,s){return c("div",{key:s,staticClass:"card mb-2 px-2 pt-2 pb-4"},[c("button",{staticClass:"close btn-block text-right p-0",attrs:{type:"button","aria-label":"Close"},on:{click:function(c){return t.deleteCartProduct(a.product.id)}}},[c("span",{staticClass:"mr-1",attrs:{"aria-hidden":"true"}},[t._v("×")])]),c("div",{staticClass:"card-body d-flex product-img py-0"},[c("div",[c("a",{attrs:{href:"#"},on:{click:function(c){return c.preventDefault(),t.getDetail(a.product.id)}}},[c("img",{staticClass:"rounded d-block",attrs:{src:a.product.imageUrl[0],alt:a.product.title}})])]),c("div",{staticClass:"text-left py-2"},[c("div",{staticClass:"d-flex flex-wrap"},[c("h5",{staticClass:"mr-auto"},[t._v(t._s(a.product.title))]),c("span",[t._v("NT."+t._s(a.product.price))])]),c("ul",[c("li",{staticClass:"card-text"},[t._v("- 數量：1"+t._s(a.product.unit))]),c("li",{staticClass:"card-text more-text"},[t._v("- 內容："+t._s(a.product.content))])])])])])})),0!==t.cart.length?c("div",{staticClass:"text-right my-4 mr-2"},[c("a",{staticClass:"delete-all",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.deleteAllCart(a)}}},[t._v("刪除全部商品")])]):t._e()],2),c("div",{staticClass:"col-md-4 cart-info py-3"},[c("div",{staticClass:"card text-left"},[c("h3",{staticClass:"card-header"},[t._v("購物車資訊")]),c("div",{staticClass:"card-body"},[c("div",{staticClass:"d-flex mb-3"},[c("div",{staticClass:"card-text mr-auto"},[t._v("商品數量")]),c("div",{staticClass:"card-text"},[t._v(t._s(t.cart.length)+" 件")])]),c("div",{staticClass:"d-flex mb-3"},[c("div",{staticClass:"card-text mr-auto"},[t._v("金額小計")]),c("div",{staticClass:"card-text"},[t._v("NT."+t._s(t.cartTotal))])]),t._m(1),c("hr"),c("div",{staticClass:"d-flex mb-5"},[c("div",{staticClass:"card-text-total mr-auto"},[t._v("總計")]),0===t.cart.length?c("div",{staticClass:"price-style"},[t._v("NT.0")]):c("div",{staticClass:"price-style"},[t._v("NT."+t._s(t.cartTotal))])]),c("button",{staticClass:"btn btn-primary btn-block text-white",attrs:{type:"button",disabled:0===t.cart.length},on:{click:t.switchPath}},[t._v("前往結帳")])])])])])],1)},i=[function(){var t=this,a=t.$createElement,c=t._self._c||a;return c("div",{staticClass:"card-body d-flex align-items-center product-img py-0"},[c("div",[c("img",{staticClass:"rounded d-block my-4",attrs:{src:"https://hexschool-api.s3.us-west-2.amazonaws.com/custom/BEsLDtsR4xR9fSivNCvRwFQz87a4kJIWjVVHUN3kt83cnnJhAn71b7w59KbS7SNrkYVcSo1EDDc0BqOvpiDipAcuGqLBTyRYCpoW6ejj1VEpXk6q8yqIN3rDsCu2gjiT.png",alt:"default picture"}})]),c("div",{staticClass:"text-left py-2"},[c("div",{staticClass:"d-flex"},[c("h5",[t._v("購物車內沒有商品！")])])])])},function(){var t=this,a=t.$createElement,c=t._self._c||a;return c("div",{staticClass:"d-flex mb-3"},[c("div",{staticClass:"card-text mr-auto"},[t._v("運費小計")]),c("div",{staticClass:"card-text"},[t._v("NT.0")])])}],e=(c("99af"),c("4160"),c("159b"),{data:function(){return{cart:[],cartTotal:0,isLoading:!1}},methods:{getCart:function(){var t=this;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api/").concat("61d0f120-1ac2-427c-9a10-878a710b2b57","/ec/shopping");this.$http.get(a).then((function(a){t.cartTotal=0,t.cart=a.data.data,t.cart.forEach((function(a){t.cartTotal+=a.product.price})),t.isLoading=!1})).catch((function(){t.isLoading=!1}))},deleteCartProduct:function(t){var a=this;this.isLoading=!0;var c="".concat("https://course-ec-api.hexschool.io/api/").concat("61d0f120-1ac2-427c-9a10-878a710b2b57","/ec/shopping/").concat(t);this.$http.delete(c).then((function(){a.isLoading=!1,a.getCart()})).catch((function(){a.isLoading=!1}))},deleteAllCart:function(){var t=this,a="".concat("https://course-ec-api.hexschool.io/api/").concat("61d0f120-1ac2-427c-9a10-878a710b2b57","/ec/shopping/all/product");this.$http.delete(a).then((function(){t.isLoading=!1,t.getCart()})).catch((function(){t.isLoading=!1}))},getDetail:function(t){this.$router.push({name:"Product",params:{id:t}})},switchPath:function(){this.$router.push({name:"Order",params:{total:this.cartTotal,amount:this.cart.length}})}},created:function(){this.getCart()}}),r=e,n=(c("a53a"),c("2877")),o=Object(n["a"])(r,s,i,!1,null,"7c2bc159",null);a["default"]=o.exports}}]);
//# sourceMappingURL=chunk-16dc5835.cc743fe5.js.map