(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b610ee0"],{5163:function(t,s,a){},8117:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"container"},[a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-6 order-info bg-light py-3"},[a("div",{staticClass:"card text-left"},[a("h3",{staticClass:"card-header"},[t._v("訂單明細")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"d-flex mb-3"},[a("div",{staticClass:"card-text mr-auto"},[t._v("購買時間")]),a("div",{staticClass:"card-text"},[t._v(t._s(t.order.created.datetime))])]),a("div",{staticClass:"d-flex mb-3"},[a("div",{staticClass:"card-text mr-auto"},[t._v("商品數量")]),a("div",{staticClass:"card-text"},[t._v(t._s(t.order.products.length+"件"))])]),a("div",{staticClass:"d-flex mb-4"},[a("div",{staticClass:"card-text mr-auto"},[t._v("總金額")]),a("span",[t._v(t._s("NT."+t.order.amount))])]),a("hr"),t._l(t.order.products,(function(s,i){return a("div",{key:i,staticClass:"card mb-2 px-2 pt-2 pb-4"},[a("div",{staticClass:"card-body d-flex py-0"},[a("div",{staticClass:"mr-5"},[a("img",{staticClass:"rounded d-block",attrs:{src:s.product.imageUrl[0],alt:s.product.title}})]),a("div",{staticClass:"text-left py-2"},[a("div",{staticClass:"d-flex"},[a("h5",{staticClass:"mr-auto"},[t._v(t._s(s.product.title))])])])])])}))],2)])]),a("div",{staticClass:"col-md-6 bg-light py-3"},[a("div",{staticClass:"card text-left"},[a("h3",{staticClass:"card-header"},[t._v("收件人資訊")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"d-flex mb-3"},[a("div",{staticClass:"card-text mr-auto"},[t._v("付款方式")]),a("div",{staticClass:"card-text"},[t._v(t._s(t.order.payment))])]),a("div",{staticClass:"d-flex mb-3"},[a("div",{staticClass:"card-text mr-auto"},[t._v("收件人姓名")]),a("div",{staticClass:"card-text"},[t._v(t._s(t.order.user.name))])]),a("div",{staticClass:"d-flex mb-3"},[a("div",{staticClass:"card-text mr-auto"},[t._v("收件人地址")]),a("div",{staticClass:"card-text"},[t._v(t._s(t.order.user.address))])]),a("div",{staticClass:"d-flex mb-3"},[a("div",{staticClass:"card-text mr-auto"},[t._v("收件人電話")]),a("div",{staticClass:"card-text"},[t._v(t._s(t.order.user.tel))])]),a("div",{staticClass:"d-flex mb-3"},[a("div",{staticClass:"card-text mr-auto"},[t._v("收件人e-mail")]),a("div",{staticClass:"card-text"},[t._v(t._s(t.order.user.email))])])])]),a("div",{staticClass:"d-flex justify-content-center"},[a("button",{staticClass:"btn btn-primary btn-block text-white mt-5 w-50",on:{click:t.payOrder}},[t._v("確認付款")])])])])],1)},e=[],r=(a("99af"),{data:function(){return{order:{user:{},products:[{product:{}}]},orderId:"",isLoading:!1}},methods:{getDetailed:function(t){var s=this;this.isLoading=!0,this.orderId=t;var a="".concat("https://course-ec-api.hexschool.io/api/").concat("61d0f120-1ac2-427c-9a10-878a710b2b57","/ec/orders/").concat(t);this.$http.get(a).then((function(t){s.order=t.data.data,s.isLoading=!1}))},payOrder:function(){var t=this;this.isLoading=!0;var s="".concat("https://course-ec-api.hexschool.io/api/").concat("61d0f120-1ac2-427c-9a10-878a710b2b57","/ec/orders/").concat(this.orderId,"/paying");this.$http.post(s).then((function(s){s.data.data.paid?(t.isLoading=!1,t.$swal({icon:"success",title:"購買成功！",html:'<p style="font-size: 12px; margin-top: 1rem;">訂單已完成，此次購買的商品約 3 ~ 5 個工作天會送達，非常感謝您對 Vatta 二手小舖的支持！點選下方按鈕可回到商城首頁。</p>',confirmButtonText:"回到商城"}).then((function(s){s.isConfirmed,t.$router.push("/shop/home")}))):(t.isLoading=!1,t.$swal({icon:"error",title:"發生錯誤！",html:'<p style="font-size: 12px; margin-top: 1rem;">非常抱歉！發生預期外的系統錯誤，未能完成購買，請盡速與我們聯絡！</p>',confirmButtonText:"回到商城"}).then((function(s){s.isConfirmed,t.$router.push("/shop/home")})))})).catch((function(){t.isLoading=!1,t.$swal({icon:"error",title:"發生錯誤！",html:'<p style="font-size: 12px; margin-top: 1rem;">非常抱歉！發生預期外的系統錯誤，未能完成購買！請點選下方按鈕回到商城並重新操作。</p>',confirmButtonText:"回到商城"}).then((function(s){s.isConfirmed,t.$router.push("/shop/home")}))}))}},created:function(){this.orderId=this.$route.params.orderId,this.getDetailed(this.orderId)}}),d=r,c=(a("ff36"),a("2877")),o=Object(c["a"])(d,i,e,!1,null,"6710e4af",null);s["default"]=o.exports},ff36:function(t,s,a){"use strict";var i=a("5163"),e=a.n(i);e.a}}]);
//# sourceMappingURL=chunk-3b610ee0.7074a655.js.map