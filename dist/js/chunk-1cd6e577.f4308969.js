(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1cd6e577"],{"1dde":function(t,s,a){var i=a("d039"),r=a("b622"),e=a("2d00"),o=r("species");t.exports=function(t){return e>=51||!i((function(){var s=[],a=s.constructor={};return a[o]=function(){return{foo:1}},1!==s[t](Boolean).foo}))}},"521e":function(t,s,a){"use strict";var i=a("86e0"),r=a.n(i);r.a},8117:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("Loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),a("div",{staticClass:"row d-flex justify-content-center bg-light"},[a("div",{staticClass:"col-md-6 order-info py-3"},[a("div",{staticClass:"card text-left"},[a("h3",{staticClass:"card-header"},[t._v("訂單明細")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"d-flex mb-3"},[a("div",{staticClass:"card-text width-control mr-auto"},[t._v("購買時間")]),a("div",{staticClass:"card-text text-right"},[t._v(t._s(t.order.created.datetime))])]),a("div",{staticClass:"d-flex mb-3"},[a("div",{staticClass:"card-text width-control mr-auto"},[t._v("商品數量")]),a("div",{staticClass:"card-text"},[t._v(t._s(t.order.products.length)+" 件")])]),a("div",{staticClass:"d-flex mb-4"},[a("div",{staticClass:"card-text width-control mr-auto"},[t._v("總金額")]),a("span",[t._v("NT."+t._s(t.order.amount))])]),a("hr"),t._l(t.order.products,(function(s,i){return a("div",{key:i,staticClass:"card mb-2 px-2 pt-2 pb-4"},[a("div",{staticClass:"card-body d-flex py-0"},[a("div",{staticClass:"margin-control"},[a("img",{staticClass:"rounded d-block",attrs:{src:s.product.imageUrl[0],alt:s.product.title}})]),a("div",{staticClass:"text-left py-2"},[a("div",{staticClass:"d-flex"},[a("h5",{staticClass:"mr-auto"},[t._v(t._s(s.product.title))])])])])])}))],2)])]),a("div",{staticClass:"col-md-6 py-3"},[a("div",{staticClass:"card text-left"},[a("h3",{staticClass:"card-header"},[t._v("收件人資訊")]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"d-flex mb-3"},[a("div",{staticClass:"card-text width-control mr-auto"},[t._v("付款方式")]),a("div",{staticClass:"card-text text-right"},[t._v(t._s(t.order.payment))])]),a("div",{staticClass:"d-flex mb-3"},[a("div",{staticClass:"card-text width-control mr-auto"},[t._v("姓名")]),a("div",{staticClass:"card-text text-right"},[t._v(t._s(t.order.user.name))])]),a("div",{staticClass:"d-flex mb-3"},[a("div",{staticClass:"card-text width-control mr-auto"},[t._v("地址")]),a("div",{staticClass:"card-text text-right"},[t._v(t._s(t.order.user.address))])]),a("div",{staticClass:"d-flex mb-3"},[a("div",{staticClass:"card-text width-control mr-auto"},[t._v("電話")]),a("div",{staticClass:"card-text text-right"},[t._v(t._s(t.order.user.tel))])]),a("div",{staticClass:"d-flex mb-3"},[a("div",{staticClass:"card-text width-control mr-auto"},[t._v("e-mail")]),a("div",{staticClass:"card-text text-right"},[t._v(t._s(t.order.user.email))])])])]),a("div",{staticClass:"d-flex justify-content-center"},[a("button",{staticClass:"btn btn-primary btn-block text-white mt-5 w-50",attrs:{type:"button"},on:{click:t.payOrder}},[t._v("確認付款")])])])])],1)},r=[],e=(a("99af"),{data:function(){return{order:{user:{},products:[{product:{}}]},orderId:"",isLoading:!1}},methods:{getDetailed:function(t){var s=this;this.isLoading=!0,this.orderId=t;var a="".concat("https://course-ec-api.hexschool.io/api/").concat("61d0f120-1ac2-427c-9a10-878a710b2b57","/ec/orders/").concat(t);this.$http.get(a).then((function(t){s.order=t.data.data,s.isLoading=!1}))},payOrder:function(){var t=this;this.isLoading=!0;var s="".concat("https://course-ec-api.hexschool.io/api/").concat("61d0f120-1ac2-427c-9a10-878a710b2b57","/ec/orders/").concat(this.orderId,"/paying");this.$http.post(s).then((function(s){s.data.data.paid?(t.isLoading=!1,t.$swal({icon:"success",title:"購買成功！",html:'<p style="font-size: 12px; margin-top: 1rem;">訂單已完成，此次購買的商品約 3 ~ 5 個工作天會送達，非常感謝您對 Vatta 二手小舖的支持！點選下方按鈕可回到商城首頁。</p>',confirmButtonText:"回到商城"}).then((function(s){s.isConfirmed,t.$router.push("/shop/home")}))):(t.isLoading=!1,t.$swal({icon:"error",title:"發生錯誤！",html:'<p style="font-size: 12px; margin-top: 1rem;">非常抱歉！發生預期外的系統錯誤，未能完成購買，請盡速與我們聯絡！</p>',confirmButtonText:"回到商城"}).then((function(s){s.isConfirmed,t.$router.push("/shop/home")})))})).catch((function(){t.isLoading=!1,t.$swal({icon:"error",title:"發生錯誤！",html:'<p style="font-size: 12px; margin-top: 1rem;">非常抱歉！發生預期外的系統錯誤，未能完成購買！請點選下方按鈕回到商城並重新操作。</p>',confirmButtonText:"回到商城"}).then((function(s){s.isConfirmed,t.$router.push("/shop/home")}))}))}},mounted:function(){this.orderId=this.$route.params.orderId,this.getDetailed(this.orderId)}}),o=e,c=(a("521e"),a("2877")),d=Object(c["a"])(o,i,r,!1,null,"3fe8d456",null);s["default"]=d.exports},8418:function(t,s,a){"use strict";var i=a("c04e"),r=a("9bf2"),e=a("5c6c");t.exports=function(t,s,a){var o=i(s);o in t?r.f(t,o,e(0,a)):t[o]=a}},"86e0":function(t,s,a){},"99af":function(t,s,a){"use strict";var i=a("23e7"),r=a("d039"),e=a("e8b5"),o=a("861d"),c=a("7b0b"),d=a("50c4"),n=a("8418"),l=a("65f0"),u=a("1dde"),v=a("b622"),f=a("2d00"),h=v("isConcatSpreadable"),p=9007199254740991,m="Maximum allowed index exceeded",x=f>=51||!r((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),C=u("concat"),b=function(t){if(!o(t))return!1;var s=t[h];return void 0!==s?!!s:e(t)},g=!x||!C;i({target:"Array",proto:!0,forced:g},{concat:function(t){var s,a,i,r,e,o=c(this),u=l(o,0),v=0;for(s=-1,i=arguments.length;s<i;s++)if(e=-1===s?o:arguments[s],b(e)){if(r=d(e.length),v+r>p)throw TypeError(m);for(a=0;a<r;a++,v++)a in e&&n(u,v,e[a])}else{if(v>=p)throw TypeError(m);n(u,v++,e)}return u.length=v,u}})}}]);
//# sourceMappingURL=chunk-1cd6e577.f4308969.js.map